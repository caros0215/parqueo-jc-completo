{"ast":null,"code":"var _jsxFileName = \"C:\\\\Proyectos_react\\\\parqueo-jc-completo\\\\frontend\\\\src\\\\inicio\\\\reportes\\\\grafico-ventas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraficoVentas = () => {\n  _s();\n  const [data, setData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Ventas',\n      data: [],\n      borderColor: '#efefef',\n      pointBackgroundColor: '#efefef',\n      fill: false\n    }]\n  });\n  useEffect(() => {\n    const fetchVentas = async (fechaInicial = null, fechaFinal = null) => {\n      try {\n        const response = await fetch(`/api/ventas?fechaInicial=${fechaInicial}&fechaFinal=${fechaFinal}`);\n        const result = await response.json();\n        let arrayFechas = [];\n        let sumaPagosMes = {};\n        result.forEach(value => {\n          const fecha = value.fecha.substring(0, 7);\n          if (!arrayFechas.includes(fecha)) {\n            arrayFechas.push(fecha);\n          }\n          if (!sumaPagosMes[fecha]) {\n            sumaPagosMes[fecha] = 0;\n          }\n          sumaPagosMes[fecha] += value.total;\n        });\n        setData({\n          labels: arrayFechas,\n          datasets: [{\n            label: 'Ventas',\n            data: arrayFechas.map(fecha => sumaPagosMes[fecha]),\n            borderColor: '#efefef',\n            pointBackgroundColor: '#efefef',\n            fill: false\n          }]\n        });\n      } catch (error) {\n        console.error('Error al obtener datos de ventas:', error);\n      }\n    };\n    fetchVentas();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box box-solid bg-teal-gradient\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-th\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"box-title\",\n        children: \"Gr\\xE1fico de Ventas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-body border-radius-none nuevoGraficoVentas\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart\",\n        style: {\n          height: '250px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: data,\n          options: {\n            maintainAspectRatio: false,\n            responsive: true,\n            scales: {\n              x: {\n                ticks: {\n                  color: '#fff'\n                },\n                grid: {\n                  color: '#efefef'\n                }\n              },\n              y: {\n                ticks: {\n                  color: '#fff',\n                  callback: value => `$${value}`\n                },\n                grid: {\n                  color: '#efefef'\n                }\n              }\n            },\n            plugins: {\n              legend: {\n                display: false\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(GraficoVentas, \"GvEiNfAd9JvQoszNDOMxGlz1B+0=\");\n_c = GraficoVentas;\nexport default GraficoVentas;\nvar _c;\n$RefreshReg$(_c, \"GraficoVentas\");","map":{"version":3,"names":["React","useState","useEffect","Line","jsxDEV","_jsxDEV","GraficoVentas","_s","data","setData","labels","datasets","label","borderColor","pointBackgroundColor","fill","fetchVentas","fechaInicial","fechaFinal","response","fetch","result","json","arrayFechas","sumaPagosMes","forEach","value","fecha","substring","includes","push","total","map","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","options","maintainAspectRatio","responsive","scales","x","ticks","color","grid","y","callback","plugins","legend","display","_c","$RefreshReg$"],"sources":["C:/Proyectos_react/parqueo-jc-completo/frontend/src/inicio/reportes/grafico-ventas.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\nconst GraficoVentas = () => {\r\n  const [data, setData] = useState({\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: 'Ventas',\r\n        data: [],\r\n        borderColor: '#efefef',\r\n        pointBackgroundColor: '#efefef',\r\n        fill: false,\r\n      },\r\n    ],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchVentas = async (fechaInicial = null, fechaFinal = null) => {\r\n      try {\r\n        const response = await fetch(\r\n          `/api/ventas?fechaInicial=${fechaInicial}&fechaFinal=${fechaFinal}`\r\n        );\r\n        const result = await response.json();\r\n\r\n        let arrayFechas = [];\r\n        let sumaPagosMes = {};\r\n\r\n        result.forEach((value) => {\r\n          const fecha = value.fecha.substring(0, 7);\r\n          if (!arrayFechas.includes(fecha)) {\r\n            arrayFechas.push(fecha);\r\n          }\r\n          if (!sumaPagosMes[fecha]) {\r\n            sumaPagosMes[fecha] = 0;\r\n          }\r\n          sumaPagosMes[fecha] += value.total;\r\n        });\r\n\r\n        setData({\r\n          labels: arrayFechas,\r\n          datasets: [\r\n            {\r\n              label: 'Ventas',\r\n              data: arrayFechas.map((fecha) => sumaPagosMes[fecha]),\r\n              borderColor: '#efefef',\r\n              pointBackgroundColor: '#efefef',\r\n              fill: false,\r\n            },\r\n          ],\r\n        });\r\n      } catch (error) {\r\n        console.error('Error al obtener datos de ventas:', error);\r\n      }\r\n    };\r\n\r\n    fetchVentas();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"box box-solid bg-teal-gradient\">\r\n      <div className=\"box-header\">\r\n        <i className=\"fa fa-th\"></i>\r\n        <h3 className=\"box-title\">Gr√°fico de Ventas</h3>\r\n      </div>\r\n      <div className=\"box-body border-radius-none nuevoGraficoVentas\">\r\n        <div className=\"chart\" style={{ height: '250px' }}>\r\n          <Line\r\n            data={data}\r\n            options={{\r\n              maintainAspectRatio: false,\r\n              responsive: true,\r\n              scales: {\r\n                x: {\r\n                  ticks: { color: '#fff' },\r\n                  grid: { color: '#efefef' },\r\n                },\r\n                y: {\r\n                  ticks: { color: '#fff', callback: (value) => `$${value}` },\r\n                  grid: { color: '#efefef' },\r\n                },\r\n              },\r\n              plugins: {\r\n                legend: { display: false },\r\n              },\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GraficoVentas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}